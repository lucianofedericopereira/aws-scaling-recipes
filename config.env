# =============================================================================
# AWS Scaling Recipes â€” Configuration
# =============================================================================
# Copy this file and fill in your values before deploying.
# The deploy.sh and launch scripts source this file automatically.
#
# NEVER commit real values to version control.
# Store secrets (passwords) in Secrets Manager, not here.
# =============================================================================

# --- AWS ---
REGION="us-east-1"

# --- Network ---
# Provide an existing VPC and subnets. Minimum 2 AZs for horizontal recipe.
VPC_ID="vpc-REPLACE_ME"

# Vertical: single subnet is sufficient (instances are in one AZ)
VERTICAL_SUBNET_ID="subnet-REPLACE_ME"
VERTICAL_DB_SUBNET_IDS="subnet-REPLACE_ME1,subnet-REPLACE_ME2"
VERTICAL_AZ="${REGION}a"

# Horizontal: public subnets for ALB + ASG, private subnets for DB + cache
HORIZONTAL_PUBLIC_SUBNET_IDS="subnet-REPLACE_ME1,subnet-REPLACE_ME2"
HORIZONTAL_PRIVATE_SUBNET_IDS="subnet-REPLACE_ME3,subnet-REPLACE_ME4"

# --- EC2 Key Pairs ---
VERTICAL_KEY_NAME="vertical-scaling-key"
HORIZONTAL_KEY_NAME="horizontal-scaling-key"

# --- Notifications ---
OPS_EMAIL="ops@example.com"

# --- Horizontal only ---
# ACM certificate must be provisioned in $REGION before deploying.
CERTIFICATE_ARN="arn:aws:acm:us-east-1:ACCOUNT_ID:certificate/REPLACE_ME"
# WAF Web ACL must be in us-east-1 (CloudFront is a global service).
WAF_ACL_ARN="arn:aws:wafv2:us-east-1:ACCOUNT_ID:global/webacl/REPLACE_ME"
# PagerDuty integration URL (Events API v2)
PAGERDUTY_ENDPOINT="https://events.pagerduty.com/integration/REPLACE_ME/enqueue"

# --- DB credentials (Secrets Manager) ---
# Vertical: password is auto-generated by the RDS stack. Retrieve after deploy:
#   aws secretsmanager get-secret-value --secret-id vertical-scaling/db-credentials
#
# Horizontal: create the secret before deploying (used by Aurora + RDS Proxy):
#   aws secretsmanager create-secret --name horizontal-scaling/db-credentials \
#     --secret-string '{"username":"app_admin","password":"YourStrongPassword"}'

# --- Horizontal scheduled scaling ---
# Update these cron expressions before each known traffic peak.
# Format: "minute hour day-of-month month day-of-week year" (UTC)
# Example: pre-warm 1 hour before Black Friday 2026 (Nov 27 14:00 UTC)
#   PROMO_WARMUP_CRON="0 13 27 11 ? 2026"
#   PROMO_COOLDOWN_CRON="0 20 27 11 ? 2026"
PROMO_WARMUP_CRON="0 13 27 11 ? 2026"
PROMO_COOLDOWN_CRON="0 20 27 11 ? 2026"
